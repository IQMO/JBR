# Test Environment Configuration

# Database Configuration (Test database)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=jabbr_trading_bot_test
DB_USER=postgres
DB_PASSWORD=test_password
DB_SSL=false

# Test-optimized database pool settings
DB_POOL_MIN=1
DB_POOL_MAX=5
DB_POOL_IDLE_TIMEOUT=10000
DB_POOL_CONNECTION_TIMEOUT=15000

# Application Settings
NODE_ENV=test
PORT=3002
API_VERSION=v1

# JWT Configuration (Test keys)
JWT_SECRET=test_jwt_secret_key_for_testing_only
JWT_EXPIRES_IN=1h

# Redis Configuration (Test instance)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=1

# Logging Configuration (Minimal for tests)
LOG_LEVEL=error
LOG_FILE_PATH=./logs/test.log
LOG_MAX_SIZE=1m
LOG_MAX_FILES=2

# Trading Bot Configuration (Test mode)
DEFAULT_STRATEGY=sma
DEFAULT_SYMBOL=BTCUSDT
DEFAULT_TIMEFRAME=1h

# Exchange API Configuration (Mock/Test)
BYBIT_API_KEY=test_api_key
BYBIT_SECRET=test_secret
BYBIT_TESTNET=true
USE_MOCK_EXCHANGE=true

# Performance Monitoring (Disabled for tests)
ENABLE_PERFORMANCE_MONITORING=false
PERFORMANCE_SAMPLE_RATE=0
METRICS_COLLECTION_INTERVAL=0

# Test-specific Settings
CORS_ORIGIN=*
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=10000
BCRYPT_ROUNDS=4

# WebSocket Configuration (Test)
WS_PORT=3003
WS_PATH=/ws
WS_HEARTBEAT_INTERVAL=10000

# File Upload Configuration (Test)
UPLOAD_MAX_FILE_SIZE=1048576
UPLOAD_ALLOWED_TYPES=text/csv,text/plain
UPLOAD_VIRUS_SCAN=false

# Cache Configuration (Fast for tests)
CACHE_TTL=60
CACHE_MAX_KEYS=100
ENABLE_QUERY_CACHE=false

# Test Features
ENABLE_MOCK_DATA=true
ENABLE_TEST_ROUTES=true
SKIP_AUTH_FOR_TESTING=true
ENABLE_DEBUG_ROUTES=true
ENABLE_SWAGGER_UI=false

# Test Database Management
AUTO_MIGRATE=true
AUTO_SEED=true
CLEAR_DB_BEFORE_TESTS=true

# Test Timeouts
TEST_TIMEOUT=30000
API_TIMEOUT=5000
DB_QUERY_TIMEOUT=3000

# Test Parallelization
JEST_MAX_WORKERS=4
JEST_WORKER_IDLE_MEMORY_LIMIT=512MB

# Mock Services
MOCK_EXTERNAL_APIS=true
MOCK_EMAIL_SERVICE=true
MOCK_SMS_SERVICE=true
MOCK_PAYMENT_SERVICE=true
